dist: trusty
sudo: require

#addons:
#  apt:
#    sources:
#      - ubuntu-toolchain-r-test
#    packages:
#      - gcc-8
#      - g++-8
#      - curl

language: cpp
compiler: gcc

before_script:
  - curl -s https://cmake.org/files/v3.12/cmake-3.12.1-Linux-x86_64.sh | sudo bash /dev/stdin --skip-license --prefix=/usr/local
  - update-alternatives --install /usr/bin/cmake cmake /usr/local/bin/cmake 1 --force
#  - sudo ln -s /usr/bin/gcc-8 /usr/local/bin/gcc
#  - sudo ln -s /usr/bin/g++-8 /usr/local/bin/g++
  - gcc -v && g++ -v && which cmake && cmake --version && /usr/local/bin/cmake --version
  - mkdir build
  - cd build
  - cmake ..

script: make && make test
